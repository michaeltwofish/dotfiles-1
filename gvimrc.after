" ---- janus overrides -----

" undefine the janus gvimrc VimEnter
" careful, this undefines all other global VimEnters as well!
autocmd! VimEnter *

set bg=dark
colorscheme solarized

if has("gui_macvim")
   "remap these from the broken janus mapping
  " Command-/ to toggle comments
  map <D-/> <plug>NERDCommenterToggle
  imap <D-/> <Esc><plug>NERDCommenterToggle i

endif

" ----- my customizations -----

if has("gui_macvim")

  " size the window so it's reasonable on a 11" mba
  " 156 is 120 columns plus 32 for NERDTree plus gutter
  set columns=156
  set lines=47

  set guifont=Menlo:h11

  set guioptions-=T " disable the toolbars in macvim
  set guioptions-=r " disable right-hand scrollbar
  set guioptions-=L " disable left-hand scrollbar
  set guioptions-=e " disable graphical tabs
  set guioptions+=c " console prompts instead of dialogs

  " unmap macvim menu first
  macmenu Tools.List\ Errors key=<nop>
  nnoremap <D-l> :nohlsearch<CR>
  inoremap <D-l> <C-O>:nohlsearch<CR>

  " from atmos
  nnoremap <D-r> :NERDTreeToggle<CR>
  " 'reveal in project' a la textmate
  " nnoremap <D-R> :NERDTreeFind<CR>
  " open the nerd tree window first, in CWD, so the find doesn't change
  " the tree root.
  nnoremap <D-R> :NERDTree<CR><C-w>p:NERDTreeFind<CR>

  map <D-j> gt
  map <D-k> gT

  " set transparency=5

end
